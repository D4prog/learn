---
layout: default
---
# 変数
C言語においての変数はメモリ上に予約された領域と、そこに付けられた名前で扱われます。（※[メモリ](memory.html)も参照のこと）
アセンブラで変数を考えるときは、C言語でそれがグローバル変数にあたるかローカル変数にあたるかを考える必要があります。

## グローバル変数
C言語と同じように、メモリ上に領域を予約します。

```
int cursor_x;
```

BSSセクションに書くこと。

```
    .section bss
    .grobal cursor_x        ;; 全ファイルで cursor_x というラベルを使えるようにする
cursor_x:   .long   0       ;; ここで指定した初期値は無意味。
```

## ローカル変数
C言語でのローカル変数の実現方式にあたるものは用意されていないので、レジスタを使います。

```
void sample_function(void) {
  int x;

}
```


```
sample_subroutine:
    push.l  er0             ;; er0の元の値をスタックに退避

    ここで er0 を変数 x として用いる。

    pop.l   er0             ;; er0の元の値をスタックから復元
```